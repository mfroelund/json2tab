# Configuration file for Wind Turbine Location Processing
# All paths can be absolute or relative to the script location

# Input data configuration
input:
  # Main GeoJSON file containing turbine locations
  turbine_locations: "generated_database/euromap.csv"
  
  
  # Optional: (List of/) Database(s) with turbine specifications
  turbine_database: 
      - "static_data/turbine_database+gened_ct_curves.json"
      - "static_data/turbine_database+knmi.json"
      - "static_data/turbine_database+wf101.json"
      - "static_data/turbine_specifications+belgian.csv"
      - "static_data/known_wf101_mapping.csv"


# Subsetting configuration
subsetting:
  # Filter turbines in temporal domain with installation/decommissioning date; possible values: a valid date, "today" (default) or "all"
  situation_date: "today"

  # Method can be either "bbox" (bounding box) or "domain" (TOML-based domain)
  method: "bbox"
  
  # Bounding box configuration (used if method: "bbox")
  bbox:
    - -25.0   # min_longitude
    - 35      # min_latitude
    - 40      # max_longitude
    - 72      # max_latitude
  
  # Domain configuration (used if method: "domain")
  domain:
    #file: "NETHERLANDS_750m.toml"
    name: "NETHERLANDS_750m"
    xlon0: 0.0
    xlat0: 52.5
    xloncen: 4.9
    xlatcen: 51.967
    xdx: 750.0
    xdy: 750.0
    nimax: 1489
    njmax: 1489

  # Country configuration (used if method: "country")
  country:
  # Mode to easy toggle between different country border regions (allowed values: eez, country, provincie, gemeente)
    mode: "eez"
    files:
      eez: "static_data/worldmap/EEZ/EEZ_land_union_v4_202410.shp"
      country: "static_data/worldmap/country_borders/countries.geojson"
      provincie: "static_data/worldmap/Netherlands/gadm41_NLD_fixZH.gpkg"
      gemeente: "static_data/worldmap/Netherlands/gadm41_NLD_fixZH.gpkg"
    levels:
      provincie: 1
      gemeente: 2
    selected_countries:
      - "Netherlands"

# Turbine matcher configuration
matcher:
  use_probabilistic_mapper: false
  use_default_selector: false
  forbidden_types: "999;9999" #"999" # List of forbidden tubine types, i.e. turbine types that should be treated as unknown turbine types and matching logic should be applied to find correct turbine type


# Output configuration
output:
  # Directory for all output files
  directory: "output"
  # Output files configuration
  files:
    # Output file to summarize installed capacity per country
    installed_capacity: "installed_capacity.[csv,txt]"
    # Output file to summarize matching summary
    matching_summary: "matching_summary.[csv,txt]"
    # Flag indicating if matching summary per country should be written (True/False) or ext of filetype (csv or txt)
    matching_summary_per_country: False
    # Output file to write model designation statistics
    model_designation_statistics: "model_designation_statistics.[csv,txt]"
    # Filtered GeoJSON with selected turbines
    filtered_geojson: "filtered_turbines.[geojson,csv]"
    # Visualization output
    regional_plot: "turbine_locations_regional.png"
    domain_plot: "turbine_locations_domain.png"
    # Tab file outputs
    location_tab: "turbine_locations.tab"
    type_tab_prefix: "wind_turbine_"  # Will be followed by type ID and .tab
    type_index_length: 3 # Number of digets to use when writing typeID in tab-filename
    
  # Tab file formatting
  tab_format:
    location:
      float_precision: 4
      default_radius: 8.0
      default_height: 25.0
    type_spec:
      float_precision: 4
      include_headers: true
      windspeed_range: "cut-in:0.5:cut-out" # (Optional) range for subset selection of windspeeds in format start:[step:]stop to write to output, start \in [cut-in, Integers], stop \in [cut-out, Integers]
      extend_to_35ms: false # (Optional) flag to extend all windspeed tables to 35 m/s
      bypass_cutout: false # (Optional) flag to bypass cut-out windspeed in output table (i.e. it will generate cp and powers for windspeeds > cut-out-speed)

# Visualization settings
visualization:
  # Plot style: "regional" or "domain" or "both"
  style: "both"
  
  # Figure settings
  figure:
    width: 12
    height: 8
    dpi: 300
    
  # Regional plot settings
  regional:
    show_rivers: true
    rivers_color: "blue"
    land_color: "lightgray"
    coastline_color: "black"
    border_style: ":"
    border_color: "black"
    turbine_color: "red"
    turbine_size: 5
    
  # Domain plot settings
  domain:
    land_color: "lightgray"
    ocean_color: "lightblue"
    coastline_color: "black"
    border_style: "-"
    turbine_color: "red"
    turbine_size: 5
    show_dotted_bounds: true
