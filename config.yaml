# Configuration file for Wind Turbine Location Processing
# All paths can be absolute or relative to the script location

# Input data configuration
input:
  # Main GeoJSON file containing turbine locations
  turbine_locations: "wind_turbines_012025.geojson"
  
  # Optional: Database with turbine specifications
  turbine_database: 
      - "turbine_database+gened_ct_curves.json"
      - "static_data/turbine_database+knmi.json"
      - "static_data/turbine_database+wf101.json"
      - "static_data/turbine_specifications+belgian.csv"
      - "static_data/known_knmi_mapping.csv"
      - "static_data/known_wf101_mapping.csv"
      #- "merged_turbine_specifications.csv" # (not needed anymore)


  # NOTE: turbine_specs IS DEPREICATED, CAN BE ADDED AS ADITIONAL ITEM TO turbine_database
  #turbine_specs: "{DEPREICATED}"


# Subsetting configuration
subsetting:
  # Method can be either "bbox" (bounding box) or "domain" (TOML-based domain)
  method: "domain"
  
  # Bounding box configuration (used if method: "bbox")
  bbox:
    - -2   # min_longitude
    - 50.  # min_latitude
    - 3.5   # max_longitude
    - 52  # max_latitude
  
  # Domain configuration (used if method: "domain")
  domain:
    #file: "NETHERLANDS_750m.toml"
    name: "NETHERLANDS_750m"
    xlon0: 0.0
    xlat0: 52.5
    xloncen: 4.9
    xlatcen: 51.967
    xdx: 750.0
    xdy: 750.0
    nimax: 1489
    njmax: 1489

# Settings for turbine matching and processing
settings:
  fallback_thresholds:
    diameter_threshold: 20.0
    hubheight_weight: 1.0
    diameter_weight: 3.0
    turbine_type_weight: 2.0
    power_weight: 1.0
    location_weight: 1.0
    height_weight: 2.0

# Output configuration
output:
  # Directory for all output files
  directory: "output"
  # Prefix for output filenames
  prefix: "windturbines"
  # Output files configuration
  files:
    # Filtered GeoJSON with selected turbines
    filtered_geojson: "filtered_turbines.geojson"
    # Visualization output
    regional_plot: "turbine_locations_regional.png"
    domain_plot: "turbine_locations_domain.png"
    # Tab file outputs
    location_tab: "turbine_locations.tab"
    type_tab_prefix: "wind_turbine_"  # Will be followed by type ID and .tab
    
  # Tab file formatting
  tab_format:
    location:
      float_precision: 4
      default_radius: 8.0
      default_height: 25.0
      forbidden_types: "999;9999" # List of forbidden tubine types, i.e. turbine types that should be treated as unknown turbine types and matching logic should be applied to find correct turbine type
    type_spec:
      float_precision: 4
      include_headers: true
      windspeed_range: "cut-in:0.5:cut-out" # (Optional) range for subset selection of windspeeds in format start:[step:]stop to write to output, start \in [cut-in, Integers], stop \in [cut-out, Integers]
      extend_to_35ms: false # (Optional) flag to extend all windspeed tables to 35 m/s
      bypass_cutout: false # (Optional) flag to bypass cut-out windspeed in output table (i.e. it will generate cp and powers for windspeeds > cut-out-speed)

# Visualization settings
visualization:
  # Plot style: "regional" or "domain" or "both"
  style: "both"
  
  # Figure settings
  figure:
    width: 12
    height: 8
    dpi: 300
    
  # Regional plot settings
  regional:
    show_rivers: true
    rivers_color: "blue"
    land_color: "lightgray"
    coastline_color: "black"
    border_style: ":"
    border_color: "black"
    turbine_color: "red"
    turbine_size: 5
    
  # Domain plot settings
  domain:
    land_color: "lightgray"
    ocean_color: "lightblue"
    coastline_color: "black"
    border_style: "-"
    turbine_color: "red"
    turbine_size: 5
    show_dotted_bounds: true
